import{A as U,Aa as c,B as A,E as p,G as F,W as D,aa as j,ba as T,ca as G,da as d,f as y,fa as P,g,h as u,ha as V,ia as N,ja as z,k as O,ka as E,l as _,m as R,ma as J,n as h,o as v,oa as B,p as x,pa as Y,q as b,r as k,t as I,u as a,v as i,w as s,xa as H,ya as q,za as Z}from"./chunk-KDUBUO2O.js";function X(e,o){if(e&1&&(a(0,"div",14),p(1),i()),e&2){let t=A();h(),F(" ",t.errorMessage," ")}}var f=class e{constructor(o,t,r){this.fb=o;this.router=t;this.dataService=r;this.LoginForm=this.fb.group({username:["",[N.required]],password:["",N.required]})}LoginForm;errorMessage="";checkLogin(){if(this.LoginForm.invalid){this.errorMessage="Please enter both username and password";return}let{username:o,password:t}=this.LoginForm.value,r=this.dataService.validateUser(o,t);if(r){switch(console.log("Login successful",r),r.role){case"admin":localStorage.setItem("adminUser",JSON.stringify(r)),this.router.navigate(["/admin/adminhome"]);break;case"teacher":localStorage.setItem("teacherUser",JSON.stringify(r)),this.router.navigate(["/teacher/teacherhome"]);break;case"student":localStorage.setItem("studentUser",JSON.stringify(r)),this.router.navigate(["/student/studenthome"]);break}console.log("Stored in localStorage:",localStorage.getItem("currentUser"))}else this.errorMessage="Invalid username or password",console.log("Login failed")}static \u0275fac=function(t){return new(t||e)(v(H),v(d),v(c))};static \u0275cmp=x({type:e,selectors:[["app-login"]],standalone:!1,decls:20,vars:2,consts:[[1,"header"],["src","/logo.png","alt","College Logo",1,"logo"],[1,"body"],[1,"card"],[1,"title"],[3,"ngSubmit","formGroup"],[1,"field"],["viewBox","0 0 500 500","xmlns","http://www.w3.org/2000/svg",1,"input-icon"],["d","M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"],["autocomplete","off","id","logemail","placeholder","Username","formControlName","username",1,"form-control","input-field"],["d","M80 192V144C80 64.47 144.5 0 224 0C303.5 0 368 64.47 368 144V192H384C419.3 192 448 220.7 448 256V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V256C0 220.7 28.65 192 64 192H80zM144 192H304V144C304 99.82 268.2 64 224 64C179.8 64 144 99.82 144 144V192z"],["autocomplete","off","id","logpass","type","password","placeholder","Password","formControlName","password",1,"form-control","input-field"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-outline-primary","px-4"],[1,"alert","alert-danger"]],template:function(t,r){t&1&&(a(0,"div",0),s(1,"img",1),a(2,"h1"),p(3,"RC GROUP OF EDUCATIONAL INSTITUTIONS"),i()(),a(4,"div",2)(5,"div",3)(6,"h4",4),p(7,"Log In!"),i(),a(8,"form",5),U("ngSubmit",function(){return r.checkLogin()}),a(9,"div",6),O(),a(10,"svg",7),s(11,"path",8),i(),_(),s(12,"input",9),i(),a(13,"div",6),O(),a(14,"svg",7),s(15,"path",10),i(),_(),s(16,"input",11),i(),k(17,X,2,1,"div",12),a(18,"button",13),p(19," Login "),i()()()()),t&2&&(h(8),I("formGroup",r.LoginForm),h(9),I("ngIf",r.errorMessage))},dependencies:[D,J,V,z,E,B,Y],styles:['.body[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:100vh;width:100vw;overflow:hidden;font-family:Poppins,sans-serif}.body[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:url(/home1.png) center/cover no-repeat;filter:blur(2px) brightness(.9);transform:scale(1.05);z-index:-1}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;padding:20px;position:absolute;top:20px;width:100%;z-index:10}.logo[_ngcontent-%COMP%]{width:120px;height:auto;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.5));animation:_ngcontent-%COMP%_floatLogo 4s ease-in-out infinite;transition:transform .3s ease}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05) rotate(-2deg)}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#f5f5f5;text-shadow:2px 2px 8px rgba(0,0,0,.5);letter-spacing:1px;animation:_ngcontent-%COMP%_glow 2s infinite alternate;text-align:center}.card[_ngcontent-%COMP%]{width:360px;padding:2.5rem 2rem;text-align:center;background:#2a2b38bf;border-radius:15px;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);box-shadow:0 8px 25px #00000080;transition:transform .3s ease;animation:_ngcontent-%COMP%_fadeSlideUp 1s ease-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.field[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-items:center;gap:.5em;background-color:#1f2029e6;border-radius:6px;padding:.6em 1em;box-shadow:inset 0 0 6px #0003;transition:box-shadow .3s ease-in-out,transform .3s ease-in-out}.field[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #ffeba7aa,0 0 12px #ffeba733;transform:scale(1.01)}.field[_ngcontent-%COMP%]:focus-within{box-shadow:0 0 6px #ffeba7,0 0 10px #ffeba766}.input-icon[_ngcontent-%COMP%]{height:1.2em;width:1.2em;fill:#ffeba7}.input-field[_ngcontent-%COMP%]{background:none;border:none;outline:none;width:100%;color:#f0f0f0;font-size:.9em}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus::placeholder{opacity:0;transition:opacity .3s}.title[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.5em;font-weight:600;color:#ffeba7;text-shadow:0 2px 6px rgba(0,0,0,.4)}.btn[_ngcontent-%COMP%]{margin:1.2rem 0 .5rem;border:none;border-radius:6px;font-weight:700;font-size:.9em;text-transform:uppercase;padding:.7em 1.4em;background-color:#ffeba7;color:#5e6681;box-shadow:0 6px 20px #ffeba74d;transition:all .3s ease-in-out}.btn[_ngcontent-%COMP%]:hover{background-color:#5e6681;color:#ffeba7;box-shadow:0 8px 24px #10277066;transform:translateY(-3px)}.btn[_ngcontent-%COMP%]:active{transform:scale(.96);box-shadow:inset 0 0 10px #ffeba780}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:2px 2px 6px rgba(0,0,0,.3),0 0 5px rgba(255,255,255,.2)}to{text-shadow:2px 2px 10px rgba(0,0,0,.5),0 0 15px rgba(255,235,167,.4)}}@keyframes _ngcontent-%COMP%_fadeSlideUp{0%{opacity:0;transform:translateY(40px) scale(.98)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_floatLogo{0%{transform:translateY(0)}50%{transform:translateY(-6px)}to{transform:translateY(0)}}@media (max-width: 480px){.card[_ngcontent-%COMP%]{width:90%;padding:2rem 1.5rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;text-align:center}.logo[_ngcontent-%COMP%]{width:80px}}']})};var l=class e{constructor(o,t){this.router=o;this.dataService=t}canActivate(){let o=localStorage.getItem("adminUser"),t=localStorage.getItem("teacherUser"),r=localStorage.getItem("studentUser"),n=null;if(o)n=JSON.parse(o);else if(t){if(n=JSON.parse(t),!this.dataService.getTeacherById(n.id))return localStorage.removeItem("teacherUser"),this.router.navigate(["/"]),!1}else if(r){if(n=JSON.parse(r),!this.dataService.getStudentById(n.id))return localStorage.removeItem("studentUser"),this.router.navigate(["/"]),!1}else return this.router.navigate(["/"]),!1;return!0}static \u0275fac=function(t){return new(t||e)(u(d),u(c))};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})},m=class e{constructor(o){this.router=o}canActivate(o,t){let r=o.data.role,n="";switch(r){case"admin":n=localStorage.getItem("adminUser")||"";break;case"teacher":n=localStorage.getItem("teacherUser")||"";break;case"student":n=localStorage.getItem("studentUser")||"";break;default:return this.router.navigate(["/"]),!1}let L=n?JSON.parse(n):null;return!L||L.role!==r?(this.router.navigate(["/"]),!1):!0}static \u0275fac=function(t){return new(t||e)(u(d))};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})};var $=[{path:"",component:f},{path:"login",component:f},{path:"admin",canActivate:[l,m],data:{role:"admin"},loadChildren:()=>import("./chunk-IXMOZ3VS.js").then(e=>e.AdminModule)},{path:"teacher",canActivate:[l,m],data:{role:"teacher"},loadChildren:()=>import("./chunk-SEIPP34S.js").then(e=>e.TeacherModule)},{path:"student",canActivate:[l,m],data:{role:"student"},loadChildren:()=>import("./chunk-D5LLUAD2.js").then(e=>e.StudentModule)},{path:"**",redirectTo:""}],M=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=b({type:e});static \u0275inj=g({imports:[P.forRoot($),P]})};var S=class e{title="project";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(t,r){t&1&&s(0,"router-outlet")},dependencies:[G],encapsulation:2})};var w=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=b({type:e,bootstrap:[S]});static \u0275inj=g({providers:[R(),[c]],imports:[T,M,q,Z]})};j().bootstrapModule(w,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
